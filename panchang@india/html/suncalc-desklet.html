<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Panchang Desklet Emulation</title>
	<link rel="stylesheet" href="bootstrap.css">
</head>
<body>
	<div class="row">
		<div class="col-md-6">
			<h4 class="text-center">Desklet</h4>
			<div id="my_desklet" class="p-3"></div>
		</div>
		<div class="col-md-6 p-3">
			<h4 class="text-center">Preference</h4>

		</div>
	</div>
</body>
<!--script src="bootstrap.js" type="text/javascript" charset="utf-8" async defer></script-->
<script src="suncalc.js"></script>
<script>
	var lat = 27.4924, lon = 77.6737;
	setInterval(myTimer, 1000);
	function myTimer() {
		var d = new Date();
		
		var time_sun = SunCalc.getTimes(new Date(), 27.4924, 77.6737);
		var pos_sun = SunCalc.getPosition(new Date(), 27.4924, 77.6737);
		var pos_moon = SunCalc.getMoonPosition(new Date(), 27.4924, 77.6737);
		var time_moon = SunCalc.getMoonTimes(new Date(), lat, lon, false);
		var illu_moon = SunCalc.getMoonIllumination(new Date());

		document.getElementById("my_desklet").innerHTML = "Date: "+d+"<br>"+
		"<br><b>Sun</b><br> azimuth: "+ pos_sun.azimuth*180/Math.PI +"(south:0 to west:pi/2) <br>altitude: "+ pos_sun.altitude*180/Math.PI+
		"(horizon:0 to zenith:90 straight to head)<br><br>Sunrise: "+time_sun.sunrise + " <br>Sunset: "+ time_sun.sunset +
		"<br><b>Moon</b><br> azimuth: "+ pos_moon.azimuth*180/Math.PI +" <br>altitude: "+ pos_moon.altitude*180/Math.PI+
		"<br><br>Moonrise: "+ time_moon.rise + "<br>Moonset: " + time_moon.set +
		"<br><br> Paralactic: "+ pos_moon.parallacticAngle*180/Math.PI +" <br>distance: "+ pos_moon.distance +
		"<br><br> Fraction: "+illu_moon.fraction +"<br>Phase: "+illu_moon.phase + "<br>Angle: "+illu_moon.angle*180/Math.PI
		 ;
	}
	var time_sun = SunCalc.getTimes(new Date(), 27.4924, 77.6737);
	var pos_sun = SunCalc.getPosition(new Date(), 27.4924, 77.6737);
	var pos_moon = SunCalc.getMoonPosition(new Date(), 27.4924, 77.6737);
	var time_moon = SunCalc.getMoonTimes(new Date(), lat, lon, false);
	var illu_moon = SunCalc.getMoonIllumination(new Date());

	console.log(time_sun);
	console.log(pos_sun);
	console.log(pos_moon);
	console.log(time_moon);
	console.log(illu_moon);


</script>
</html>